# 📚 DeepSeek对话管理器

> 欢迎使用！我是Aqua_65535，基于berry22jelly的"DeepSeek对话收藏器"做了这个工具（对不起berry22jelly...本人暂时联系不上你了）
>
> 原项目地址：[DeepSeek对话收藏器 - 源代码](http://greasyfork.icu/zh-CN/scripts/548318-deepseek对话收藏器/code)

[![Tampermonkey](https://img.shields.io/badge/Tampermonkey-必备-black)](https://www.tampermonkey.net/)
[![License: MIT](https://img.shields.io/badge/License-MIT-yellow.svg)](https://opensource.org/licenses/MIT)
[![Version](https://img.shields.io/badge/Version-1.1.0-blue)]()

## 🎯 这是啥？

一个可以收藏 / 分类 / 搜索 / 排序 / DeepSeek对话的脚本。

## ✨ 功能亮点

### 🗂️ **分类管理**
- 固定6个分类：化学/英语/数学/物理/计算机/学校琐事（这个分类名称是Aqua_65535的纯个人向，你可以重命名）
- 鼠标悬停点击“ ✎ ”即可修改分类名称
- 实时显示各分类数量
- 默认"未分类"文件夹收纳未标记对话

### 🔍 **搜索与排序**
- **全文搜索**：支持按标题和内容实时搜索*（注意：不支持搜索代码块 / Latex内容）*
- **多维度排序**：
  - ⏰ 时间排序（新-旧/旧-新）
  - 📏 字数统计（多-少/少-多）*（注意：字数统计已过滤代码块 / LaTeX内容）*
  - 🔤 标题排序（A-Z/Z-A）

### 💾 **备份功能**
- 📤 **导出数据**：生成JSON格式备份文件
- 📥 **导入数据**：合并之前备份的收藏
- ⏰ **备份提醒**：显示距离上次备份的天数
- 📊 **未备份统计**：告诉你还有多少新收藏没备份

## 🚀 安装方法（目前不支持从GreasyFork安装）

### 前置条件
1. 安装 [Tampermonkey](https://www.tampermonkey.net/) 浏览器扩展，按照官网的提示完成相关配置操作；
2. 点击此处下载脚本源代码文件：[DeepSeek对话管理器1.1.0.js](https://github.com/Aqua65535/Deepseek_Chat_Manager/releases/download/v1.1.0/DeepSeek_Chat_Manager.js)；
3. 创建新脚本，把源代码复制粘贴进去；
4. 打开 https://chat.deepseek.com/ ，如果能看到右下角的3个圆形按钮，就说明安装成功了！

## 📖 使用指南

### 收藏对话
1. 打开任意DeepSeek对话页面
2. 点击右下角 **⭐按钮** 收藏当前对话
3. 如果已收藏过相同内容，会自动更新时间戳（防止重复）

### 管理收藏
1. 点击右下角 **📚按钮** 打开管理器
2. **左侧分类栏**：点击切换分类视图
3. **搜索框**：输入关键词实时过滤
4. **排序下拉**：选择排序方式
5. **复选框**：勾选多个对话进行批量操作

### 备份管理
1. 点击右下角 **💾按钮** 打开备份弹窗
2. **📤 导出数据**：下载JSON备份文件
3. **📥 导入数据**：上传之前的备份文件
4. 备份弹窗会显示：
   - 距离上次备份的天数
   - 当前未备份的收藏数量

### 分类管理
- **重命名分类**：鼠标悬停分类名 → 点击✎图标 → 输入新名称
- **移动对话**：在对话标题旁的下拉菜单中选择分类
- **分类统计**：每个分类后显示该分类收藏数量

## 🐛 已知 Bug（但Aqua_65535没力气修了hhh）

作为一个成熟的脚本，要学会与一些 bug （通假字，通【feature】）共存：

1. **收藏的对话被重命名后...**脚本会把它当成**新对话**
   - 其实是因为用了哈希判断。
   - *btw...我试过用对话ID判断，结果 bug 更多，于是我又改回哈希了*；结果重命名后原来的收藏还在，会多出一条（震怒）
2. **删除了原始对话，收藏还在**
   - 这就是**特性**！收藏是独立存储的，相当于快照
   - 你可以留着当纪念（），也可以手动删除（*毕竟收藏夹不是回收站对吧？*）

> 如果你特别在意这些 bug，欢迎提 PR 拯救我这个 JS 菜鸡（认真）

## ❓ 常见问题

**Q：收藏的对话保存在哪里？** 
A：全部保存在浏览器本地（GM_setValue）。

**Q：如何迁移到新设备？** 
A：使用 **💾备份功能** 导出JSON文件，在新设备导入即可。

**Q：为什么按钮不显示？** 
A：确保已经配置好 Tempermonkey 相关内容。然后在 `https://chat.deepseek.com/*` 域名下，刷新页面重试。

**Q：分类可以增加吗？** 
A：固定6个分类。如果你会写js，可以直接修改源代码。（Aqua_65535：硬编码の倔强.gif）

**Q：字数统计为什么和实际不太一样？** 
A：为了预览清爽，代码块和LaTeX被替换成了`[代码块]`/`[LaTeX]`标记，所以字数会偏少。

**Q：那两个 bug 到底修不修？** 
A：看心情，看 PR，看哪天我 JS 水平突飞猛进（）。

## 👏 致谢

- 感谢 [berry22jelly](https://greasyfork.org/zh-CN/users/berry22jelly) 大佬的原作"DeepSeek对话收藏器" (v1.0.1) 提供了基础框架！
- 感谢所有使用和反馈的用户！

## 📄 许可证

[MIT License](https://opensource.org/licenses/MIT) © 2026 Aqua_65535


